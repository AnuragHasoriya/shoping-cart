<div class="content-wrapper" style="min-height: 916px;" ng-init="$pc.init()">
  <div class="col-md-8 col-md-offset-2">
    <!-- Horizontal Form -->  
    <div class="box box-info">
      <div class="box-header with-border">
        <h3 class="box-title">Add Product</h3>
        <toaster-container></toaster-container>
      </div>
      <!-- /.box-header -->
      <!-- form start -->
      <form class="form-horizontal" name= "product" ng-submit="$pc.addProduct(product.$valid)">
        <div class="box-body">

          <div class="form-group">
            <label for="productName-input" class="col-sm-3 control-label">Category</label>
            <div class="col-sm-9">
              <select ng-model="$pc.product.category" class="form-control" name="product" ng-change="$pc.getSubCategory(category.key)" ng-options="category.key as category.name for category in $pc.categories"> </select>      
            </div>
          </div>

          <div class="form-group">
            <label for="productName-input" class="col-sm-3 control-label">Sub-Category</label>
            <div class="col-sm-9">
              <select ng-model="$pc.product.subCategory" name="product" class="form-control" ng-options="subCategory.key as subCategory.name for subCategory in $pc.subCategories"> </select>      
            </div>
          </div>

          <div class="form-group">
            <span ng-class = "{'fa fa-asterisk': product.name.$error.required}"></span>
            <label for="product-name" class="col-sm-3 control-label">Name</label>
            <div class="col-sm-9">
              <input type="text" name="product" class="form-control" ng-model= "$pc.product.name" id="product-name" placeholder="Product name" required>
            </div>
          </div>

          <div class="form-group">
            <span ng-class = "{'fa fa-asterisk': product.description.$error.required}"></span>
            <label for="product-price" class="col-sm-3 control-label">Price</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="product" ng-model= "$pc.product.price" id="product-price" placeholder="Product price" required>
            </div>
          </div>

          <div class="form-group">
            <span ng-class = "{'fa fa-asterisk': product.discount.$error.pattern}"></span>
            <label for="product-discount" class="col-sm-3 control-label">Discount</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="product" ng-pattern="/^\d+$/" ng-model= "$pc.product.discount" id="product-discount" placeholder="Discount" required>
            </div>
          </div>

          <div class="form-group">
            <span ng-class = "{'fa fa-asterisk': product.tax.$error.pattern || product.tax.$error.required }"></span>
            <label for="product-tax" class="col-sm-3 control-label">Tax(in %)</label>
            <div class="col-sm-9">
              <input class="form-control" rows="3" name="product"  ng-pattern="/^\d+$/" ng-model= "$pc.product.tax" id="product-tax" placeholder="tax" required>
            </div>
          </div>
  
            <div class="form-group" ng-repeat = "varient in $pc.varients">
              <label for="product-varient" class="col-sm-3 control-label">Varients</label>
              <tr >
                <td>
                  <div class="col-sm-4">
                    <input type="text" placeholder="name" ng-model="varient.name">
                  </div>
                </td>

                <td>
                  <div class="col-sm-4">
                    <tags-input  ng-model="varient.value" minLength="1" display-property="value" ></tags-input> 
                  </div>
                </td>
                
                <td>
                  <div class="col-sm-1">
                    <i id="minIcon" ng-if="$index == 0" class = "fa fa-plus"  ng-click="$pc.addVarient($index)"></i>
                    <i id="minIconMinus" ng-if="$index > 0" class = "fa fa-minus"  ng-click="$pc.removeVarient($index)"></i>
                  </div>
                </td>   
              </tr>
            </div>
          
          <div class="form-group">
            <label for="product-description" class="col-sm-3 control-label">Description</label>
            <div class="col-sm-9">
              <textarea  class="form-control" rows="3" name="product" ng-model= "$pc.product.description" id="product-description" placeholder=" Description"></textarea >
            </div>
          </div>

          <div class="form-group">
            <label for="product-image" class="col-sm-3 control-label">Upload Image</label>
            <div class="col-sm-9">
              <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Upload</button>
              <div id="myModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
              
                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Image Uploader</h4>
                    </div>
                    <div class="modal-body">                                         
                      <!-- <div class="control-group">
                        <div class="controls">
                          <span class="btn btn-success fileinput-button">
                            <i class="icon-plus icon-white"></i>
                            <input type="file" name="file" data-url="home/upload" 
                            multiple upload><span>Add files...</span>
                          </span>
                        </div>
                        <div>
                            <span ng-show="!files.length">No files selected</span>
                            <ul>
                                <li ng-repeat="file in files">{{file}}</li>
                            </ul>
                        </div> 
                          <button type="submit" class="btn btn-primary pull-left" ng-click="upload()">Upload</button>
                      </div> -->
                      
                      <!-- <input type="file" id="fileButton" class="form-control" ng-model="$pc.image" file-model as-file id="product-image"  ng-change="$pc.uploadFile()" placeholder="Image Url" multiple></input> -->
                          Drop File:
                        <div class="button" ngf-select="$pc.uploadFiles($files)" multiple="multiple">
                          <div ngf-drop="$pc.uploadFiles($files)" class="drop-box" ngf-drag-over-class="'dragover'" ngf-multiple="true"
                          ngf-pattern="'image/*,application/pdf'">Drop Images or PDFs files here
                          Upload on file select
                        </div>
                      </div>
                      <div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>

                      <div class="progress">
                          <div class="progress-bar" role="progressbar" aria-valuenow="70"
                          aria-valuemin="0" aria-valuemax="100" ng-style="width:70%">
                            <span class="sr-only">70% Complete</span>
                          </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                    <div class="progress" ng-show="percentage">
                        <div class="bar" ng-style="$pc.prog"></div>
                    </div>
                  </div>
              
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="product-brand" class="col-sm-3 control-label">Brand Name</label>
            <div class="col-sm-9">
              <input class="form-control" name="product" ng-model= "$pc.product.brand" id="product-brand" placeholder="brand name"></input>
            </div>
          </div>
         
          <div class="form-group">
            <label for="product-deliveryMethod" class="col-sm-3 control-label">Delivery Method</label>
            <div class="col-sm-9">
                <select id="product-deliveryMethod" name="product" class="form-control" ng-model="$pc.product.deliveryMethod" ng-options="delivery for delivery in $pc.deliveryOptions"> </select>
            </div>
          </div>  
        
        </div>
        <!-- /.box-body -->
        <div class="box-footer">
          <button type="submit" class="btn btn-default">Cancel</button>
          <button type="submit" class="btn btn-info pull-right">Add</button>
        </div>
        <!-- /.box-footer -->
      </form>
    </div>
  </div>
</div>